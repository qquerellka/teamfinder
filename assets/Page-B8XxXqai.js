import{_ as e,j as t,a as n,e as r,u as o,c as i,C as s,T as a,r as l,m as c,n as u,o as d,h as f,q as h,s as p,t as m,b as g,v,w as x,x as b,y,z as w,A as R,B as C,D as O,E as j,F as k,G as A,H as S,I as N,J as L,K as M,M as T,O as E,P as F,Q as D,R as I,U as P,V as B,W as V,X as W,Y as z,Z as H,$ as K,a0 as $,d as U,l as _}from"./index-kpqgMVnE.js";import{a as q,C as Z,c as J,u as Q,S as G,d as X}from"./client-Snpknwer.js";import{S as Y}from"./Subheadline-DIqHX51-.js";import{A as ee}from"./Avatar-sHRCT778.js";const te=(...e)=>(...t)=>e.filter(e=>"function"==typeof e).forEach(e=>e(...t));function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}const oe=o=>{var{className:i}=o,s=e(o,["className"]);return t.jsx("hr",n({className:r("tgui-8af0d10d5540c6cc",i)},s))},ie=e=>{var r=ne({},re(e));return"ios"===o()?t.jsx(s,n({},r)):t.jsx(Y,n({level:"2"},r))},se=s=>{var{className:a,children:l,centered:c}=s,u=e(s,["className","children","centered"]);const d=o();return t.jsx("footer",i(n({className:r("tgui-dbb364e8ced00cc8","ios"===d&&"tgui-8c4c6f82ba895475",c&&"tgui-8ebba379083b615a",a)},u),{children:t.jsx(ie,{className:"tgui-67471b69da3e3062",children:l})}))},ae=l=>{var{large:c,className:u,children:d}=l,f=e(l,["large","className","children"]);const h=o(),{Default:p,Large:m}=(()=>{const e=o();return{Default:r=>{var o=ne({},re(r));return"ios"===e?t.jsx(s,n({caps:!0},o)):t.jsx(Y,n({level:"2",weight:"2"},o))},Large:r=>{var o=ne({},re(r));return"ios"===e?t.jsx(Y,n({level:"1",weight:"2"},o)):t.jsx(a,n({weight:"2"},o))}}})(),g=c?m:p;return t.jsx("header",i(n({className:r("tgui-d0251b46536ac046","ios"===h&&"tgui-b7217abb24e8763a",c&&"tgui-34fd1a25cc171439",u)},f),{children:t.jsx(g,{Component:"h1",className:"tgui-9c200683b316fde6",children:d})}))},le=s=>{var{header:a,footer:u,className:d,children:f}=s,h=e(s,["header","footer","className","children"]);const p=o(),m=c(a)?t.jsx(ae,{children:a}):a,g=c(u)?t.jsx(se,{children:u}):u;return t.jsxs("section",i(n({className:r("tgui-3dfa44f9f78f9a22","base"===p&&"tgui-8e15431b81f6601e","ios"===p&&"tgui-97eca24324122dbc",d)},h),{children:[t.jsxs("div",{className:"tgui-db9be63c4fecf79b",children:[m,t.jsx("div",{className:"tgui-4b78bed6e925088e",children:l.Children.map(f,(e,n)=>t.jsxs(t.Fragment,{children:[e,n<l.Children.count(f)-1&&t.jsx(oe,{className:"tgui-a6d406c4dc060899"})]}))})]}),g]}))};le.Header=ae,le.Footer=se;const ce=({children:e})=>{const{portalContainer:t}=u();return(null==t?void 0:t.current)?d.createPortal(e,t.current):l.isValidElement(e)?e:null},ue=e=>{var r=ne({},re(e));return"ios"===o()?t.jsx(s,n({caps:!0},r)):t.jsx(Y,n({level:"2",weight:"2"},r))},de={base:"tgui-8ca550c2fc85eff5",ios:"tgui-7707c5d942b7b9af"},fe={default:"tgui-7584398855f80ae6",error:"tgui-41b168516bddcf4b",focused:"tgui-89277928456f0e30"},he=l.forwardRef((s,a)=>{var{status:c,header:u,before:d,after:h,disabled:p,children:m,className:g,onFocus:v,onBlur:x}=s,b=e(s,["status","header","before","after","disabled","children","className","onFocus","onBlur"]);const y=o(),[w,R]=l.useState(!1),C=c||(w?"focused":"default"),O=te(v,()=>{p||R(!0)}),j=te(x,()=>R(!1));return t.jsxs("div",{ref:a,className:r("tgui-92da7016c7125c02",de[y],fe[C],p&&"tgui-4a83fef1f04acb0e"),"aria-disabled":p,children:[t.jsxs("label",i(n({"aria-disabled":p,className:r("tgui-0f5050defacbf813",g),onFocus:O,onBlur:j},b),{children:[f(d)&&t.jsx("div",{className:"tgui-8f04eff653cfa5e5",children:d}),m,f(h)&&t.jsx("div",{className:"tgui-16b3783d394bc7db",children:h})]})),f(u)&&"base"===y&&t.jsx(ue,{className:"tgui-9f9a52f695b85cc9",children:u})]})}),pe="Enter",me="Tab",ge="Escape",ve="Backspace",xe="ArrowLeft",be="ArrowRight",ye="ArrowUp",we="ArrowDown",Re=e=>{var r=ne({},re(e));return t.jsx("svg",i(n({width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),{children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 6.29289c.39053-.39052 1.02369-.39052 1.41422 0L10 11.5858l5.2929-5.29291c.3905-.39052 1.0237-.39052 1.4142 0 .3905.39053.3905 1.02369 0 1.41422l-6 5.99999c-.3905.3905-1.02368.3905-1.41421 0l-6-5.99999c-.39052-.39053-.39052-1.02369 0-1.41422Z",fill:"currentColor"})}))};const Ce=e=>{var r=ne({},re(e));return t.jsx("svg",i(n({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),{children:t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.3 3.3a1 1 0 0 1 1.4 0L8 6.58l3.3-3.3a1 1 0 1 1 1.4 1.42L9.42 8l3.3 3.3a1 1 0 0 1-1.42 1.4L8 9.42l-3.3 3.3a1 1 0 0 1-1.4-1.42L6.58 8l-3.3-3.3a1 1 0 0 1 0-1.4Z",fill:"currentColor"})}))},Oe=e=>{const r=ne({},re(e));return t.jsx(q,n({mode:"mono"},r))},je=l.forwardRef((o,s)=>{var{inputRef:a,className:c,chipsValue:u,onAddChipOption:d,onRemoveChipOption:f,renderChip:h=Oe,value:p,placeholder:y,disabled:w,readOnly:R}=o,C=e(o,["inputRef","className","chipsValue","onAddChipOption","onRemoveChipOption","renderChip","value","placeholder","disabled","readOnly"]);const O=function(...e){const t=l.useRef(null);return l.useMemo(()=>({get current(){return t.current},set current(n){t.current=n,e.forEach(e=>{e&&m(n,e)})}}),e)}(s),j=u.length,k=0===j,A=w||R;return t.jsxs("div",{ref:O,className:r("tgui-c56e136f855e5144",k&&"tgui-ac1d436c45aafe04",c),onClick:A?void 0:()=>{!(document.activeElement===a.current)&&a.current&&a.current.focus()},role:"listbox","aria-orientation":"horizontal","aria-disabled":w,"aria-readonly":R,onKeyDown:A?void 0:e=>{const t=e.target,n=a.current;if(e.defaultPrevented||!n||!v(t))return;const r=j-1,o=n.value,i=t===n,s=""===o;switch(e.key){case pe:i&&!s&&(e.preventDefault(),d(o));break;case ve:if(j){const n=i&&s?u[r]:((e,t)=>{const n=t.getAttribute("value");return e.find(e=>e.value===n)})(u,t);if(!n)return;e.preventDefault(),a.current.focus(),f(n)}break;case ye:case xe:case we:case be:{if(!j||!O.current)break;const o=0===n.selectionStart,a=e.key===be&&o;if(!s&&!o||a)break;e.preventDefault();let l=null;const c=(e=>{switch(e){case ye:case xe:return"left";case we:case be:return"right";default:return}})(e.key);!i||e.key!==ye&&e.key!==xe?c&&(l=b(t,c)):l=x(O.current.children,r),l&&l.focus();break}}},children:[u.map((e,n)=>t.jsx(l.Fragment,{children:h({children:e.label,className:"tgui-991d85450550abb9",value:e.value,tabIndex:-1,after:t.jsx(g,{Component:"div",interactiveAnimation:"opacity",onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),f(t)})(t,e),className:"tgui-0b4134fd8d5c05ac",children:t.jsx(Ce,{})}),role:"option","aria-selected":!0,"aria-posinset":n+1,"aria-setsize":j})},`${typeof e.value}-${e.label}`)),t.jsx(Y,i(n({ref:a,"aria-autocomplete":"list",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},C),{Component:"input",type:"text",className:"tgui-41e02fd2529dfbd2",disabled:w,readOnly:R,placeholder:k?y:void 0}))]})}),ke=["start","end"],Ae=["top","right","bottom","left"].reduce((e,t)=>e.concat(t,t+"-"+ke[0],t+"-"+ke[1]),[]),Se=Math.min,Ne=Math.max,Le=Math.round,Me=Math.floor,Te=e=>({x:e,y:e}),Ee={left:"right",right:"left",bottom:"top",top:"bottom"},Fe={start:"end",end:"start"};function De(e,t,n){return Ne(e,Se(t,n))}function Ie(e,t){return"function"==typeof e?e(t):e}function Pe(e){return e.split("-")[0]}function Be(e){return e.split("-")[1]}function Ve(e){return"x"===e?"y":"x"}function We(e){return"y"===e?"height":"width"}const ze=new Set(["top","bottom"]);function He(e){return ze.has(Pe(e))?"y":"x"}function Ke(e){return Ve(He(e))}function $e(e,t,n){void 0===n&&(n=!1);const r=Be(e),o=Ke(e),i=We(o);let s="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ge(s)),[s,Ge(s)]}function Ue(e){return e.replace(/start|end/g,e=>Fe[e])}const _e=["left","right"],qe=["right","left"],Ze=["top","bottom"],Je=["bottom","top"];function Qe(e,t,n,r){const o=Be(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?qe:_e:t?_e:qe;case"left":case"right":return t?Ze:Je;default:return[]}}(Pe(e),"start"===n,r);return o&&(i=i.map(e=>e+"-"+o),t&&(i=i.concat(i.map(Ue)))),i}function Ge(e){return e.replace(/left|right|bottom|top/g,e=>Ee[e])}function Xe(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ye(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function et(e,t,n){let{reference:r,floating:o}=e;const i=He(t),s=Ke(t),a=We(s),l=Pe(t),c="y"===i,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[a]/2-o[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-o.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-o.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Be(t)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1)}return h}async function tt(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Ie(t,e),p=Xe(h),m=a[f?"floating"===d?"reference":"floating":d],g=Ye(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),b=await(null==i.isElement?void 0:i.isElement(x))&&await(null==i.getScale?void 0:i.getScale(x))||{x:1,y:1},y=Ye(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-y.top+p.top)/b.y,bottom:(y.bottom-g.bottom+p.bottom)/b.y,left:(g.left-y.left+p.left)/b.x,right:(y.right-g.right+p.right)/b.x}}const nt=new Set(["left","top"]);function rt(e){const t=w(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=v(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Le(n)!==i||Le(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function ot(e){return p(e)?e:e.contextElement}function it(e){const t=ot(e);if(!v(t))return Te(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=rt(t);let s=(i?Le(n.width):n.width)/r,a=(i?Le(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const st=Te(0);function at(e){const t=R(e);return F()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:st}function lt(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=ot(e);let s=Te(1);t&&(r?p(r)&&(s=it(r)):s=it(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==R(e))&&t}(i,n,r)?at(i):Te(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const e=R(i),t=r&&p(r)?R(r):r;let n=e,o=E(n);for(;o&&r&&t!==n;){const e=it(o),t=o.getBoundingClientRect(),r=w(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=s,n=R(o),o=E(n)}}return Ye({width:u,height:d,x:l,y:c})}function ct(e,t){const n=M(e).scrollLeft;return t?t.left+n:lt(y(e)).left+n}function ut(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-ct(e,n),y:n.top+t.scrollTop}}const dt=new Set(["absolute","fixed"]);function ft(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=R(e),r=y(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const e=F();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}const c=ct(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-o);s<=25&&(i-=s)}else c<=25&&(i+=c);return{width:i,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=y(e),n=M(e),r=e.ownerDocument.body,o=Ne(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ne(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ct(e);const a=-n.scrollTop;return"rtl"===w(r).direction&&(s+=Ne(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}(y(e));else if(p(t))r=function(e,t){const n=lt(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=v(e)?it(e):Te(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=at(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ye(r)}function ht(e,t){const n=O(e);return!(n===t||!p(n)||j(n))&&("fixed"===w(n).position||ht(n,t))}function pt(e,t,n){const r=v(t),o=y(t),i="fixed"===n,s=lt(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=Te(0);function c(){l.x=ct(o)}if(r||!r&&!i)if(("body"!==N(t)||L(o))&&(a=M(t)),r){const e=lt(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=!o||r||i?Te(0):ut(o,a);return{x:s.left+a.scrollLeft-l.x-u.x,y:s.top+a.scrollTop-l.y-u.y,width:s.width,height:s.height}}function mt(e){return"static"===w(e).position}function gt(e,t){if(!v(e)||"fixed"===w(e).position)return null;if(t)return t(e);let n=e.offsetParent;return y(e)===n&&(n=n.ownerDocument.body),n}function vt(e,t){const n=R(e);if(C(e))return n;if(!v(e)){let t=O(e);for(;t&&!j(t);){if(p(t)&&!mt(t))return t;t=O(t)}return n}let r=gt(e,t);for(;r&&k(r)&&mt(r);)r=gt(r,t);return r&&j(r)&&mt(r)&&!A(r)?n:r||S(e)||n}const xt={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,s=y(r),a=!!t&&C(t.floating);if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Te(1);const u=Te(0),d=v(r);if((d||!d&&!i)&&(("body"!==N(r)||L(s))&&(l=M(r)),v(r))){const e=lt(r);c=it(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!s||d||i?Te(0):ut(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:y,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?C(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=T(e,[],!1).filter(e=>p(e)&&"body"!==N(e)),o=null;const i="fixed"===w(e).position;let s=i?O(e):e;for(;p(s)&&!j(s);){const t=w(s),n=A(s);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&dt.has(o.position)||L(s)&&!n&&ht(e,s))?r=r.filter(e=>e!==s):o=t,s=O(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=i[0],a=i.reduce((e,n)=>{const r=ft(t,n,o);return e.top=Ne(r.top,e.top),e.right=Se(r.right,e.right),e.bottom=Se(r.bottom,e.bottom),e.left=Ne(r.left,e.left),e},ft(t,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:vt,getElementRects:async function(e){const t=this.getOffsetParent||vt,n=this.getDimensions,r=await n(e.floating);return{reference:pt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=rt(e);return{width:t,height:n}},getScale:it,isElement:p,isRTL:function(e){return"rtl"===w(e).direction}};function bt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yt(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=ot(e),u=o||i?[...c?T(c):[],...T(t)]:[];u.forEach(e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)});const d=c&&a?function(e,t){let n,r=null;const o=y(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),i();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||t(),!f||!h)return;const p={rootMargin:-Me(d)+"px "+-Me(o.clientWidth-(u+f))+"px "+-Me(o.clientHeight-(d+h))+"px "+-Me(u)+"px",threshold:Ne(0,Se(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||bt(c,e.getBoundingClientRect())||s(),m=!1}try{r=new IntersectionObserver(g,{...p,root:o.ownerDocument})}catch(v){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),i}(c,n):null;let f,h=-1,p=null;s&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let m=l?lt(e):null;return l&&function t(){const r=lt(e);m&&!bt(m,r)&&n();m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(f)}}const wt=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),s=Pe(n),a=Be(n),l="y"===He(n),c=nt.has(s)?-1:1,u=i&&l?-1:1,d=Ie(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof p&&(h="end"===a?-1*p:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:s}}}}},Rt=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:a,platform:l,elements:c}=t,{crossAxis:u=!1,alignment:d,allowedPlacements:f=Ae,autoAlignment:h=!0,...p}=Ie(e,t),m=void 0!==d||f===Ae?function(e,t,n){return(e?[...n.filter(t=>Be(t)===e),...n.filter(t=>Be(t)!==e)]:n.filter(e=>Pe(e)===e)).filter(n=>!e||Be(n)===e||!!t&&Ue(n)!==n)}(d||null,h,f):f,g=await tt(t,p),v=(null==(n=s.autoPlacement)?void 0:n.index)||0,x=m[v];if(null==x)return{};const b=$e(x,i,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(a!==x)return{reset:{placement:m[0]}};const y=[g[Pe(x)],g[b[0]],g[b[1]]],w=[...(null==(r=s.autoPlacement)?void 0:r.overflows)||[],{placement:x,overflows:y}],R=m[v+1];if(R)return{data:{index:v+1,overflows:w},reset:{placement:R}};const C=w.map(e=>{const t=Be(e.placement);return[e.placement,t&&u?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),O=(null==(o=C.filter(e=>e[2].slice(0,Be(e[0])?2:3).every(e=>e<=0))[0])?void 0:o[0])||C[0][0];return O!==a?{data:{index:v+1,overflows:w},reset:{placement:O}}:{}}}},Ct=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=Ie(e,t),c={x:n,y:r},u=await tt(t,l),d=He(Pe(o)),f=Ve(d);let h=c[f],p=c[d];if(i){const e="y"===f?"bottom":"right";h=De(h+u["y"===f?"top":"left"],h,h-u[e])}if(s){const e="y"===d?"bottom":"right";p=De(p+u["y"===d?"top":"left"],p,p-u[e])}const m=a.fn({...t,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[d]:s}}}}}},Ot=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Ie(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const v=Pe(o),x=He(a),b=Pe(a)===a,y=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=f||(b||!m?[Ge(a)]:function(e){const t=Ge(e);return[Ue(e),t,Ue(t)]}(a)),R="none"!==p;!f&&R&&w.push(...Qe(a,m,p,y));const C=[a,...w],O=await tt(t,g),j=[];let k=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&j.push(O[v]),d){const e=$e(o,s,y);j.push(O[e[0]],O[e[1]])}if(k=[...k,{placement:o,overflows:j}],!j.every(e=>e<=0)){var A,S;const e=((null==(A=i.flip)?void 0:A.index)||0)+1,t=C[e];if(t){if(!("alignment"===d&&x!==He(t))||k.every(e=>He(e.placement)!==x||e.overflows[0]>0))return{data:{index:e,overflows:k},reset:{placement:t}}}let n=null==(S=k.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:S.placement;if(!n)switch(h){case"bestFit":{var N;const e=null==(N=k.filter(e=>{if(R){const t=He(e.placement);return t===x||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:N[0];e&&(n=e);break}case"initialPlacement":n=a}if(o!==n)return{reset:{placement:n}}}return{}}}},jt=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:a}=t,{apply:l=()=>{},...c}=Ie(e,t),u=await tt(t,c),d=Pe(o),f=Be(o),h="y"===He(o),{width:p,height:m}=i.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=f===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g="end"===f?"top":"bottom");const x=m-u.top-u.bottom,b=p-u.left-u.right,y=Se(m-u[g],x),w=Se(p-u[v],b),R=!t.middlewareData.shift;let C=y,O=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(O=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=x),R&&!f){const e=Ne(u.left,0),t=Ne(u.right,0),n=Ne(u.top,0),r=Ne(u.bottom,0);h?O=p-2*(0!==e||0!==t?e+t:Ne(u.left,u.right)):C=m-2*(0!==n||0!==r?n+r:Ne(u.top,u.bottom))}await l({...t,availableWidth:O,availableHeight:C});const j=await s.getDimensions(a.floating);return p!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}},kt=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Ie(e,t)||{};if(null==c)return{};const d=Xe(u),f={x:n,y:r},h=Ke(o),p=We(h),m=await s.getDimensions(c),g="y"===h,v=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",y=i.reference[p]+i.reference[h]-f[h]-i.floating[p],w=f[h]-i.reference[h],R=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let C=R?R[b]:0;C&&await(null==s.isElement?void 0:s.isElement(R))||(C=a.floating[b]||i.floating[p]);const O=y/2-w/2,j=C/2-m[p]/2-1,k=Se(d[v],j),A=Se(d[x],j),S=k,N=C-m[p]-A,L=C/2-m[p]/2+O,M=De(S,L,N),T=!l.arrow&&null!=Be(o)&&L!==M&&i.reference[p]/2-(L<S?k:A)-m[p]/2<0,E=T?L<S?L-S:L-N:0;return{[h]:f[h]+E,data:{[h]:M,centerOffset:L-M-E,...T&&{alignmentOffset:E}},reset:T}}}),At=(e,t,n)=>{const r=new Map,o={platform:xt,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=et(c,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:n,fn:i}=a[m],{x:g,y:v,data:x,reset:b}=await i({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=v?v:d,h={...h,[n]:{...h[n],...x}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:o}):b.rects),({x:u,y:d}=et(c,f,l))),m=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:h}})(e,t,{...o,platform:i})};var St="undefined"!=typeof document?l.useLayoutEffect:function(){};function Nt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Nt(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!Nt(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Lt(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mt(e,t){const n=Lt(e);return Math.round(t*n)/n}function Tt(e){const t=l.useRef(e);return St(()=>{t.current=e}),t}const Et=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?kt({element:n.current,padding:r}).fn(t):{}:n?kt({element:n,padding:r}).fn(t):{};var o}}),Ft=e=>t.jsx("svg",i(n({width:22,height:7,viewBox:"0 0 22 7",xmlns:"http://www.w3.org/2000/svg"},e),{children:t.jsx("path",{d:"M10.804 0C6.387 0 6.94 6 .865 6h19.878c-6.074 0-5.521-6-9.939-6Z",fill:"currentColor"})})),Dt={right:"tgui-6c3deae89ec68e99",bottom:"tgui-fed67e27ad8cb75f",left:"tgui-b27d1c4f6222569e"},It=l.forwardRef((o,s)=>{var{style:a,offset:l,isStaticOffset:c,coords:u,placement:d="bottom",Icon:f=Ft,className:h}=o,p=e(o,["style","offset","isStaticOffset","coords","placement","Icon","className"]);const[m,g]=((e,t={x:0,y:0},n=0,r=!1)=>{const o=e=>{const o={x:t.x||0,y:t.y||0};return r?n:o[e?"y":"x"]+n};return e.startsWith("top")?["bottom",{top:"100%",left:o(!1)}]:e.startsWith("right")?["left",{top:o(!0),left:0}]:e.startsWith("bottom")?[void 0,{bottom:"100%",left:o(!1)}]:["right",{top:o(!0),right:0}]})(d,u,l,c);return t.jsx("div",i(n({ref:s,style:n({},g,a),className:r("tgui-97a62789a70393d0",m&&Dt[m],h)},p),{children:t.jsx(f,{className:"tgui-6ae8c47f9448321b"})}))}),Pt={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1},Bt=e=>{const t=e.replace(/auto-|auto/,"");return"start"===t||"end"===t?t:null},Vt=({placement:e="bottom-start",arrowRef:t=null,withArrow:n,arrowHeight:r,arrowPadding:o,sameWidth:i,offsetByMainAxis:s=0,offsetByCrossAxis:a=0,customMiddlewares:c})=>l.useMemo(()=>{const l=(e=>!e.startsWith("auto"))(e),u=[(d={crossAxis:a,mainAxis:n&&r?s+r:s},{...wt(d),options:[d,f]})];var d,f;return l?u.push(((e,t)=>({...Ot(e),options:[e,t]}))({fallbackAxisSideDirection:"start"})):u.push(((e,t)=>({...Rt(e),options:[e,t]}))({alignment:Bt(e)})),u.push(((e,t)=>({...Ct(e),options:[e,t]}))()),i&&u.push(((e,t)=>({...jt(e),options:[e,t]}))({apply({rects:e,elements:t}){Object.assign(t.floating.style,{width:`${e.reference.width}px`})}})),c&&u.push(...c),n&&u.push(((e,t)=>({...Et(e),options:[e,t]}))({element:t,padding:o})),{middlewares:u,strictPlacement:l?e:void 0}},[a,t,n,r,o,s,i,c,e]),Wt=l.forwardRef((o,s)=>{var{placement:a="auto",sameWidth:c,offsetByMainAxis:u=8,offsetByCrossAxis:f=0,withArrow:p=!0,customMiddlewares:m,autoUpdateOnTargetResize:g=!1,arrowProps:x,ArrowIcon:b=Ft,Component:y="div",style:w,targetRef:R,className:C,children:O}=o,j=e(o,["placement","sameWidth","offsetByMainAxis","offsetByCrossAxis","withArrow","customMiddlewares","autoUpdateOnTargetResize","arrowProps","ArrowIcon","Component","style","targetRef","className","children"]);const[k,A]=l.useState(null),{strictPlacement:S,middlewares:N}=Vt({placement:a,sameWidth:c,withArrow:p,arrowRef:k,arrowHeight:(null==x?void 0:x.height)||6,arrowPadding:(null==x?void 0:x.padding)||12,offsetByMainAxis:u,offsetByCrossAxis:f,customMiddlewares:m}),{placement:L,refs:M,middlewareData:T,floatingStyles:E}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[f,h]=l.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=l.useState(r);Nt(p,r)||m(r);const[g,v]=l.useState(null),[x,b]=l.useState(null),y=l.useCallback(e=>{e!==O.current&&(O.current=e,v(e))},[]),w=l.useCallback(e=>{e!==j.current&&(j.current=e,b(e))},[]),R=i||g,C=s||x,O=l.useRef(null),j=l.useRef(null),k=l.useRef(f),A=null!=c,S=Tt(c),N=Tt(o),L=Tt(u),M=l.useCallback(()=>{if(!O.current||!j.current)return;const e={placement:t,strategy:n,middleware:p};N.current&&(e.platform=N.current),At(O.current,j.current,e).then(e=>{const t={...e,isPositioned:!1!==L.current};T.current&&!Nt(k.current,t)&&(k.current=t,d.flushSync(()=>{h(t)}))})},[p,t,n,N,L]);St(()=>{!1===u&&k.current.isPositioned&&(k.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[u]);const T=l.useRef(!1);St(()=>(T.current=!0,()=>{T.current=!1}),[]),St(()=>{if(R&&(O.current=R),C&&(j.current=C),R&&C){if(S.current)return S.current(R,C,M);M()}},[R,C,M,S,A]);const E=l.useMemo(()=>({reference:O,floating:j,setReference:y,setFloating:w}),[y,w]),F=l.useMemo(()=>({reference:R,floating:C}),[R,C]),D=l.useMemo(()=>{const e={position:n,left:0,top:0};if(!F.floating)return e;const t=Mt(F.floating,f.x),r=Mt(F.floating,f.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...Lt(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,F.floating,f.x,f.y]);return l.useMemo(()=>({...f,update:M,refs:E,elements:F,floatingStyles:D}),[f,M,E,F,D])}({placement:S,middleware:N,whileElementsMounted:(...t)=>((t,r,o,s=Pt)=>{const{elementResize:a=!1}=s,l=e(s,["elementResize"]),c=yt(t,r,o,i(n({},l),{elementResize:!1}));let u=null;if(a){let e=!0;u=new MutationObserver(()=>{e||o(),e=!1}),v(t)&&u.observe(t,{childList:!0,subtree:!0}),u.observe(r,{childList:!0,subtree:!0})}return()=>{null!==u&&(u.disconnect(),u=null),c()}})(...t,{elementResize:g})});return h(()=>{M.setReference("current"in R?R.current:R)},[M.setReference,R]),t.jsx(ce,{children:t.jsxs(y,i(n({},j),{ref:D(s,M.setFloating),style:n({},w,E),className:r("tgui-e9c83f4f150e5513",C),children:[p&&t.jsx(It,i(n({},x),{coords:T.arrow,placement:L,ref:A,Icon:b})),O]}))})}),zt="next",Ht="prev",Kt=e=>e&&"actionText"in e,$t=e=>e&&"placeholder"in e,Ut=e=>Kt(e)||$t(e),_t=e=>{var r=ne({},re(e));return t.jsx("svg",i(n({width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),{children:t.jsx("path",{d:"M2.5 10.821 7 15.75l10.5-11.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},qt=e=>{var r=ne({},re(e));return t.jsx("svg",i(n({width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),{children:t.jsx("path",{d:"M8.174 18c-.473 0-.876-.21-1.208-.63l-4.602-5.82a1.727 1.727 0 0 1-.284-.465 1.423 1.423 0 0 1-.08-.474c0-.365.118-.666.355-.903s.536-.356.898-.356c.408 0 .752.18 1.03.539l3.856 5.017 7.525-12.242c.154-.243.313-.414.48-.51.165-.104.372-.156.621-.156.361 0 .657.116.889.347.23.23.346.526.346.884 0 .146-.024.292-.071.438a2.017 2.017 0 0 1-.222.456L9.39 17.335c-.284.443-.69.665-1.217.665Z",fill:"currentColor"})}))},Zt=e=>{const r="ios"===o()?qt:_t;return t.jsx(Z,i(n({},e),{after:e.selected?t.jsx(r,{className:"tgui-e3f4e376df0c272c"}):void 0}))},Jt=l.forwardRef(({dropdownAriaId:e,options:n,onMouseLeave:r,targetRef:o,addOptionFromInput:i,setFocusedOptionIndex:s,renderOption:a=Zt,focusedOption:c,value:u,setOptionNode:d,setOpened:f,closeDropdownAfterSelect:h,addOption:p,focusedOptionIndex:m,clearInput:g},v)=>t.jsx(Wt,{id:e,ref:v,targetRef:o,onMouseLeave:r,autoUpdateOnTargetResize:!0,role:"listbox",placement:"bottom",sameWidth:!0,className:"tgui-70d34454bcf3c3e4",children:n.map((e,n)=>$t(e)?t.jsx(Z,{readOnly:!0,className:"tgui-6a25d2bd42bb932c",children:e.placeholder},"empty"):Kt(e)?t.jsx(Z,{hovered:m===n,onMouseDown:i,onMouseEnter:()=>s(n),children:e.actionText},"new-options"):t.jsx(l.Fragment,{children:a({className:"tgui-15f9ec3c119467a6",hovered:!!c&&e.value===c.value,children:e.label,selected:-1!==u.findIndex(t=>t.value===e.value),ref:e=>d(n,e),onMouseDown:t=>{t.defaultPrevented||(h&&f(!1),p(e),g())},onMouseEnter:()=>s(n)})},`${typeof e.value}-${e.label}`))})),Qt=e=>null==e||"boolean"==typeof e||"{}"===JSON.stringify(e)?"":e.toString(),Gt=e=>e instanceof Array||l.isValidElement(e)?l.Children.toArray(e).reduce((e,t)=>{let n="";const r=l.isValidElement(t),o=r&&"children"in t.props;return n=r&&o?Gt(t.props.children):r&&!o?"":Qt(t),e.concat(n)},""):Qt(e);function Xt(...e){const[t="",n]=e;if(void 0===(null==n?void 0:n.label))return!1;const r=t.trim().toLocaleLowerCase(),o=Gt(n.label).toLocaleLowerCase();if(o.startsWith(r))return!0;const i=((e="",t="")=>{const n=[];let r=e.indexOf(t);for(;-1!==r;)n.push(r),r=e.indexOf(t,r+1);return n})(o,r);return 0!==i.length&&i.some(e=>0===e||!RegExp("\\p{L}","u").test(o[e-1]))}const Yt=(e,t)=>({value:e,label:t}),en=({value:e,inputValue:t="",emptyText:r,creatable:o=!1,filterFn:s,options:a,selectedBehavior:l})=>{const c=s?a.filter(e=>s(t,e)):a;if(0===c.length)return""!==t&&"string"==typeof o?[i(n({},Yt("","")),{actionText:o})]:[i(n({},Yt("","")),{placeholder:r})];if("hide"===l){const t=e.map(e=>e.value);return c.filter(e=>!Ut(e)&&!t.includes(e.value))}return c};const tn=({disabled:e,value:t,onChange:r,defaultValue:o=[],inputValue:i="",onInputChange:s})=>{const[a,c]=function({value:e,defaultValue:t,disabled:n,onChange:r}){const o=void 0!==e,[i,s]=l.useState(t),a=l.useRef();h(()=>{a.current=e});const c=l.useCallback(e=>{if(!n)if(function(e){return"function"==typeof e}(e))if(o){if(r){const t=e(a.current);r(t)}}else s(t=>{const n=e(t);return r&&r(n),n});else r&&r(e),!o&&s(e)},[n,o,r]);return[o?e:i,c]}({value:t,disabled:e,defaultValue:o,onChange:r}),u=l.useRef(null),[d,f]=l.useState(i),p=l.useCallback((e,o)=>{let i=t;c(t=>{const r=(e=>"object"==typeof e&&"value"in e)(e),s=r?Yt(e.value,e.label):Yt(e,"string"==typeof e?e:""),a=t.filter(e=>s.value!==e.value);return o&&a.push(r?n({},e,s):s),i=a,a}),null==r||r(i)},[c]),m=l.useCallback(()=>{((e,t="")=>{try{const n=e,r=n.value;n.value=t;const o=n._valueTracker;null==o||o.setValue(r);const i=new Event("input",{bubbles:!0});e.dispatchEvent(i)}catch(n){}})(u.current,"")},[u]),g=l.useCallback(e=>p(e,!0),[p]),v=l.useCallback(e=>{p(e,!1)},[p]),x=l.useCallback(e=>{const t=e.trim();t&&(g(t),m())},[g,m]),b=l.useCallback(e=>{f(e.currentTarget.value),null==s||s(e)},[s]);return{value:a,addOption:g,addOptionFromInput:x,removeOption:v,inputRef:u,inputValue:d,onInputChange:b,clearInput:m}},nn=l.forwardRef((o,s)=>{var{header:a,before:c,status:u,className:d,children:f,disabled:m,options:g,closeDropdownAfterSelect:v=!1,selectedBehavior:x,emptyText:b,creatable:y=!1,filterFn:w,value:R=[],defaultValue:C,inputValue:O,renderChip:j,renderOption:k,onInputChange:A,onChange:S,onFocus:N,onBlur:L,onKeyDown:M}=o,T=e(o,["header","before","status","className","children","disabled","options","closeDropdownAfterSelect","selectedBehavior","emptyText","creatable","filterFn","value","defaultValue","inputValue","renderChip","renderOption","onInputChange","onChange","onFocus","onBlur","onKeyDown"]);const{value:E,addOptionFromInput:F,addOption:P,removeOption:B,inputRef:V,inputValue:W,clearInput:z,onInputChange:H,options:K,opened:$,setOpened:U,focusedOption:_,focusedOptionIndex:q,setFocusedOption:Z,setFocusedOptionIndex:J}=(({disabled:t,value:r,defaultValue:o,onChange:s,inputValue:a="",onInputChange:c,creatable:u=!1,emptyText:d="Nothing found",filterFn:f=Xt,selectedBehavior:p="highlight",options:m=[]})=>{const g=tn({value:r,defaultValue:o,onChange:s,inputValue:a,onInputChange:c,disabled:t}),{value:v,inputValue:x,onInputChange:b}=g,y=e(g,["value","inputValue","onInputChange"]),[w,R]=l.useState(!1),[C,O]=l.useState(()=>w?en({value:v,inputValue:x,emptyText:d,creatable:u,filterFn:f,options:m,selectedBehavior:p}):[]),[j,k]=l.useState(0),[A,S]=l.useState(null),N=l.useCallback(e=>{b(e),w&&(R(!0),k(0))},[b,w]);return h(()=>{w&&O(e=>{const t=en({value:v,inputValue:x,emptyText:d,creatable:u,filterFn:f,options:m,selectedBehavior:p});return I(e,t)?e:t})},[w,v,x,m,u,p,f]),i(n({},y),{value:v,inputValue:x,onInputChange:N,options:C,opened:w,setOpened:R,focusedOption:A,focusedOptionIndex:j,setFocusedOption:S,setFocusedOptionIndex:k})})({value:R,defaultValue:C,onChange:S,inputValue:O,onInputChange:A,options:g,emptyText:b,creatable:y,filterFn:w,selectedBehavior:x,disabled:m}),Q=l.useRef(null),G=l.useRef(null),X=l.useId(),Y=l.useRef(null),ee=l.useRef([]).current,ne=(e,t)=>{let n=e;const{length:r}=K;e<0?n=r-1:e>=r&&(n=0),n!==t&&(((e,t=!1)=>{const n=Y.current,r=ee[e];if(!r||!n)return;const o=n.offsetHeight,{scrollTop:i}=n,s=r.offsetTop,a=r.offsetHeight;t?n.scrollTop=s-o/2+a/2:s+a>o+i?n.scrollTop=s-o+a:s<i&&(n.scrollTop=s)})(n),J(n))};l.useEffect(()=>{if(null===q)return void Z(null);const e=K[q];e&&!Ut(e)&&Z(e)},[K,q,Z]);const re=l.useCallback(()=>{J(null)},[J]);((e,...t)=>{h(()=>{const n=t.some(e=>e&&null!==e.current);if(!document||!n)return()=>{};const r=n=>{const r=n.target;(!p(r)||!t.some(e=>e&&e.current&&e.current.contains(r)))&&e(n)};return document.addEventListener("click",r,{passive:!0,capture:!0}),()=>document.removeEventListener("click",r,!0)},[document,e,...t])})(l.useCallback(()=>{U(!1)},[U]),$?G:null,$?Y:null);const oe=u||($?"focused":"default");return t.jsxs(he,{ref:D(s,Q),header:a,before:c,status:oe,disabled:m,className:r("tgui-6cca8a28a056cc34",d),children:[t.jsx(je,i(n({},T),{ref:G,className:"tgui-1ed7193796bd9fff",onAddChipOption:F,onRemoveChipOption:B,renderChip:j,chipsValue:E,value:W,inputRef:V,onChange:H,onFocus:te(()=>{U(!0),J(null)},N),onBlur:te(e=>{e.defaultPrevented||y||e.preventDefault()},L),onKeyDown:te(e=>{if(!e.defaultPrevented)switch(e.key){case ye:case we:if(e.preventDefault(),$)return void((e,t)=>{let n=null===e?-1:e;t===zt&&(n+=1),t===Ht&&(n-=1),ne(n,q)})(q,e.key===ye?Ht:zt);U(!0),J(0);break;case pe:{if(!$)break;if(y||e.preventDefault(),null===q)break;const t=K[q];if(!t||Ut(t))break;e.preventDefault(),P(t),J(null),z(),v&&U(!1);break}case ge:case me:$&&U(!1)}},M),role:"combobox","aria-expanded":$,"aria-controls":X,"aria-haspopup":"listbox"})),t.jsx(Re,{"aria-hidden":!0,onClick:()=>{U(e=>!e)},className:"tgui-e9b05eb8feaa0359"}),$&&t.jsx(Jt,{ref:Y,dropdownAriaId:X,options:K,onMouseLeave:re,targetRef:G,addOptionFromInput:()=>F(W),setFocusedOptionIndex:J,renderOption:k,focusedOption:_,value:E,setOptionNode:(e,t)=>{ee[e]=t},setOpened:U,closeDropdownAfterSelect:v,addOption:P,clearInput:z,focusedOptionIndex:q})]})}),rn=l.forwardRef((i,s)=>{var{header:l,status:c,className:u}=i,d=e(i,["header","status","className"]);const f=o(),h="ios"===f?a:Y;return t.jsx(he,{header:l,status:c,className:r("tgui-54ba5b4c7f1fd05a","ios"===f&&"tgui-2453b62de8016bfa",u),children:t.jsx(h,n({ref:s,Component:"textarea",className:"tgui-d40ec83150e66029"},d))})});var on=class extends P{#e;#t=void 0;#n;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),B(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&V(t.mutationKey)!==V(this.options.mutationKey)?this.reset():"pending"===this.#n?.state.status&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#i()}mutate(e,t){return this.#r=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#o(){const e=this.#n?.state??W();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){z.batch(()=>{if(this.#r&&this.hasListeners()){const t=this.#t.variables,n=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};"success"===e?.type?(this.#r.onSuccess?.(e.data,t,n,r),this.#r.onSettled?.(e.data,null,t,n,r)):"error"===e?.type&&(this.#r.onError?.(e.error,t,n,r),this.#r.onSettled?.(void 0,e.error,t,n,r))}this.listeners.forEach(e=>{e(this.#t)})})}};async function sn(){const{data:e}=await J.get("/users/me");return{id:(t=e).id,telegramId:t.telegram_id,username:t.username,firstName:t.first_name,secondName:t.last_name,avatarUrl:t.avatar_url,bio:t.bio??null,city:t.city??null,university:t.university??null,link:t.link??null,skills:(r=t.skills,r.map(e=>({id:e.id,slug:e.slug,name:e.name}))),achievements:(n=t.achievements,n.map(e=>({id:e.id,hackathonId:e.hackathon_id,role:e.role,place:e.place})))};var t,n,r}const an={me:["user","me"]};function ln(){const e=H();return function(e){const t=H(),[n]=l.useState(()=>new on(t,e));l.useEffect(()=>{n.setOptions(e)},[n,e]);const r=l.useSyncExternalStore(l.useCallback(e=>n.subscribe(z.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=l.useCallback((e,t)=>{n.mutate(e,t).catch(K)},[n]);if(r.error&&$(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:o,mutateAsync:r.mutate}}({mutationFn:e=>async function(e){await J.patch("/users/me",{bio:e.bio,city:e.city,university:e.university,link:e.link,skills:e.skillSlugs})}(e),onSuccess:()=>{e.invalidateQueries({queryKey:an.me})}})}async function cn(){const{data:e}=await J.get("/skills");return e}const un=({bioError:e,bio:n,handleBioChange:r})=>t.jsx(dn,{header:"Обо мне",footer:e,children:t.jsx(rn,{status:e?"error":"default",value:n,onChange:r,placeholder:"Расскажите немного о себе..."})}),dn=U(le)`
  background: var(--tg-theme-section-bg-color, #fff);
  padding: 1rem;
  border-radius: 1rem;
  & > div {
    display: flex;
    flex-direction: column;

    & > header {
      padding: 0;
      box-shadow: none;
    }
    & > div {
      padding: 0;
      & > div {
        background: var(--tg-theme-section-bg-color, #fff);
        padding: 1rem 0 1rem 0;
      }
    }
  }
  & > footer {
    padding-bottom: 0;
    & > h6 {
      color: var(--tg-theme-destructive-text-color, #fff);
    }
  }
`,fn=()=>t.jsxs(hn,{className:"",children:[t.jsx(_,{children:"О мне"}),t.jsx(pn,{placeholder:"Введите описание",type:"text"})]}),hn=U.div`
    background-color: #000;
    padding: 16px;
    border-radius: 16px;
    display: flex;
    flex-direction: column;
    gap: 12px;
`,pn=U.input`
  background-color: transparent;
  border: none;
  outline: none; /* убираем outline по умолчанию */
  color: #fff;
  font-size: 16px;
  &:focus {
    outline: none; /* убираем outline при фокусе */
  }
`,mn=()=>{const{data:e,isLoading:n}=Q({queryKey:an.me,queryFn:sn,staleTime:3e5}),{data:r=[],isLoading:o}=Q({queryKey:["skills"],queryFn:cn,staleTime:3e5}),i=ln(),[s,a]=l.useState([]),[c,u]=l.useState(null),[d,f]=l.useState(""),[h,p]=l.useState(null),[m,g]=l.useState(""),[v,x]=l.useState(!1);l.useEffect(()=>{if(!e)return;const t=e.bio??"";f(t),g(t),a(e.skills.map(e=>e.slug)),p(null),u(null),x(!0)},[e]);const b=r.map(e=>({value:e.slug,label:e.name}));const y=b.filter(e=>s.includes(String(e.value)));l.useEffect(()=>{if(!v)return;if(!e)return;if(h)return;if(d===m)return;const t=setTimeout(()=>{i.mutate({bio:d||void 0},{onSuccess:()=>{g(d)}})},600);return()=>clearTimeout(t)},[d,h,v,e,m,i]);const w=n||o;return t.jsxs(gn,{children:[t.jsxs(vn,{children:[t.jsx(ee,{size:96,src:e?.avatarUrl||void 0}),t.jsxs(bn,{children:[t.jsx(G,{$fs:24,$fw:600,children:e?.firstName}),t.jsx(G,{$fs:24,$fw:600,children:e?.secondName})]})]}),t.jsxs(xn,{children:[t.jsx(yn,{header:"Навыки",footer:c,children:t.jsx(Cn,{status:c?"error":"default",options:b,value:y,onChange:t=>{if(t.length>10)return void u("Нельзя выбрать больше 10 навыков");const n=t.map(e=>String(e.value));if(a(n),u(null),!v||!e)return;const r=e.skills.map(e=>e.slug);r.length===n.length&&r.every(e=>n.includes(e))||i.mutate({skillSlugs:n})},selectedBehavior:"hide",closeDropdownAfterSelect:!1,creatable:!1,placeholder:w?"Загружаем навыки...":"Выберите до 10 навыков"})}),t.jsx(un,{bioError:h,bio:d,handleBioChange:e=>{const t=e.target.value;f(t),t.length>256?p("Описание должно быть не больше 256 символов"):p(null)}}),t.jsx(fn,{}),t.jsx(yn,{header:"Достижения",children:[{id:1,hackathonId:1,role:"Backend",place:"firstPlace"},{id:2,hackathonId:2,role:"Frontend",place:"firstPlace"},{id:3,hackathonId:3,role:"Fullstack",place:"secondPlace"}]?.map(e=>t.jsx(wn,{achievement:e},e.id))})]})]})},gn=U.section`
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2.5rem 0;
  gap: 1.5rem;
`,vn=U.header`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
`,xn=U.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 0rem;
`,bn=U.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
`,yn=U(le)`
  background: var(--tg-theme-section-bg-color, #fff);
  padding: 1rem;
  border-radius: 1rem;
  & > div {
    display: flex;
    flex-direction: column;

    & > header {
      padding: 0;
      box-shadow: none;
    }
    & > div {
      padding: 0;
      & > div {
        background: var(--tg-theme-section-bg-color, #fff);
        padding: 1rem 0 1rem 0;
      }
    }
  }
  & > footer {
    padding-bottom: 0;
    & > h6 {
      color: var(--tg-theme-destructive-text-color, #fff);
    }
  }
`,wn=({achievement:e})=>t.jsxs(Rn,{children:[t.jsx(G,{children:e.role}),t.jsx(G,{children:X(e.place)})]}),Rn=U.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  padding: 1rem 0;
`,Cn=U(nn)`
  background: var(--tg-theme-section-bg-color, #fff);
`;export{wn as AchievementCard,mn as ProfilePage,mn as default};
