import{_ as e,u as t,j as n,c as r,a as i,e as o,C as s,T as a,r as l,m as c,n as u,o as f,h as d,q as h,s as p,t as m,b as g,v,w as x,x as b,y,z as w,A as R,B as C,D as O,E as j,F as k,G as A,H as N,I as S,J as L,K as M,M as T,O as F,P as E,Q as D,R as I,U as P,V,W as B,X as $,Y as W,Z as z,$ as H,a0 as K,a1 as _,d as U}from"./index-BPHKUjwk.js";import{a as q,C as Z,c as J,u as Q,S as G,d as X}from"./client-H48TdvPn.js";import{S as Y}from"./Subheadline-xNJiZ6oy.js";import{A as ee}from"./Avatar-B42OSki5.js";const te=(...e)=>(...t)=>e.filter(e=>"function"==typeof e).forEach(e=>e(...t));function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e){if(null==e)throw new TypeError("Cannot destructure "+e);return e}const ie=s=>{var{className:a,children:l,Component:c="div"}=s,u=e(s,["className","children","Component"]);const f=t();return n.jsx(c,r(i({className:o("tgui-389a43acd684137a","ios"===f&&"tgui-cfed40fe81d34ad5",a)},u),{children:l}))},oe=t=>{var{className:r}=t,s=e(t,["className"]);return n.jsx("hr",i({className:o("tgui-8af0d10d5540c6cc",r)},s))},se=e=>{var r=ne({},re(e));return"ios"===t()?n.jsx(s,i({},r)):n.jsx(Y,i({level:"2"},r))},ae=s=>{var{className:a,children:l,centered:c}=s,u=e(s,["className","children","centered"]);const f=t();return n.jsx("footer",r(i({className:o("tgui-dbb364e8ced00cc8","ios"===f&&"tgui-8c4c6f82ba895475",c&&"tgui-8ebba379083b615a",a)},u),{children:n.jsx(se,{className:"tgui-67471b69da3e3062",children:l})}))},le=l=>{var{large:c,className:u,children:f}=l,d=e(l,["large","className","children"]);const h=t(),{Default:p,Large:m}=(()=>{const e=t();return{Default:t=>{var r=ne({},re(t));return"ios"===e?n.jsx(s,i({caps:!0},r)):n.jsx(Y,i({level:"2",weight:"2"},r))},Large:t=>{var r=ne({},re(t));return"ios"===e?n.jsx(Y,i({level:"1",weight:"2"},r)):n.jsx(a,i({weight:"2"},r))}}})(),g=c?m:p;return n.jsx("header",r(i({className:o("tgui-d0251b46536ac046","ios"===h&&"tgui-b7217abb24e8763a",c&&"tgui-34fd1a25cc171439",u)},d),{children:n.jsx(g,{Component:"h1",className:"tgui-9c200683b316fde6",children:f})}))},ce=s=>{var{header:a,footer:u,className:f,children:d}=s,h=e(s,["header","footer","className","children"]);const p=t(),m=c(a)?n.jsx(le,{children:a}):a,g=c(u)?n.jsx(ae,{children:u}):u;return n.jsxs("section",r(i({className:o("tgui-3dfa44f9f78f9a22","base"===p&&"tgui-8e15431b81f6601e","ios"===p&&"tgui-97eca24324122dbc",f)},h),{children:[n.jsxs("div",{className:"tgui-db9be63c4fecf79b",children:[m,n.jsx("div",{className:"tgui-4b78bed6e925088e",children:l.Children.map(d,(e,t)=>n.jsxs(n.Fragment,{children:[e,t<l.Children.count(d)-1&&n.jsx(oe,{className:"tgui-a6d406c4dc060899"})]}))})]}),g]}))};ce.Header=le,ce.Footer=ae;const ue=({children:e})=>{const{portalContainer:t}=u();return(null==t?void 0:t.current)?f.createPortal(e,t.current):l.isValidElement(e)?e:null},fe=e=>{var r=ne({},re(e));return"ios"===t()?n.jsx(s,i({caps:!0},r)):n.jsx(Y,i({level:"2",weight:"2"},r))},de={base:"tgui-8ca550c2fc85eff5",ios:"tgui-7707c5d942b7b9af"},he={default:"tgui-7584398855f80ae6",error:"tgui-41b168516bddcf4b",focused:"tgui-89277928456f0e30"},pe=l.forwardRef((s,a)=>{var{status:c,header:u,before:f,after:h,disabled:p,children:m,className:g,onFocus:v,onBlur:x}=s,b=e(s,["status","header","before","after","disabled","children","className","onFocus","onBlur"]);const y=t(),[w,R]=l.useState(!1),C=c||(w?"focused":"default"),O=te(v,()=>{p||R(!0)}),j=te(x,()=>R(!1));return n.jsxs("div",{ref:a,className:o("tgui-92da7016c7125c02",de[y],he[C],p&&"tgui-4a83fef1f04acb0e"),"aria-disabled":p,children:[n.jsxs("label",r(i({"aria-disabled":p,className:o("tgui-0f5050defacbf813",g),onFocus:O,onBlur:j},b),{children:[d(f)&&n.jsx("div",{className:"tgui-8f04eff653cfa5e5",children:f}),m,d(h)&&n.jsx("div",{className:"tgui-16b3783d394bc7db",children:h})]})),d(u)&&"base"===y&&n.jsx(fe,{className:"tgui-9f9a52f695b85cc9",children:u})]})}),me="Enter",ge="Tab",ve="Escape",xe="Backspace",be="ArrowLeft",ye="ArrowRight",we="ArrowUp",Re="ArrowDown",Ce=e=>{var t=ne({},re(e));return n.jsx("svg",r(i({width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 6.29289c.39053-.39052 1.02369-.39052 1.41422 0L10 11.5858l5.2929-5.29291c.3905-.39052 1.0237-.39052 1.4142 0 .3905.39053.3905 1.02369 0 1.41422l-6 5.99999c-.3905.3905-1.02368.3905-1.41421 0l-6-5.99999c-.39052-.39053-.39052-1.02369 0-1.41422Z",fill:"currentColor"})}))};const Oe=e=>{var t=ne({},re(e));return n.jsx("svg",r(i({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.3 3.3a1 1 0 0 1 1.4 0L8 6.58l3.3-3.3a1 1 0 1 1 1.4 1.42L9.42 8l3.3 3.3a1 1 0 0 1-1.42 1.4L8 9.42l-3.3 3.3a1 1 0 0 1-1.4-1.42L6.58 8l-3.3-3.3a1 1 0 0 1 0-1.4Z",fill:"currentColor"})}))},je=e=>{const t=ne({},re(e));return n.jsx(q,i({mode:"mono"},t))},ke=l.forwardRef((t,s)=>{var{inputRef:a,className:c,chipsValue:u,onAddChipOption:f,onRemoveChipOption:d,renderChip:h=je,value:p,placeholder:y,disabled:w,readOnly:R}=t,C=e(t,["inputRef","className","chipsValue","onAddChipOption","onRemoveChipOption","renderChip","value","placeholder","disabled","readOnly"]);const O=function(...e){const t=l.useRef(null);return l.useMemo(()=>({get current(){return t.current},set current(n){t.current=n,e.forEach(e=>{e&&m(n,e)})}}),e)}(s),j=u.length,k=0===j,A=w||R;return n.jsxs("div",{ref:O,className:o("tgui-c56e136f855e5144",k&&"tgui-ac1d436c45aafe04",c),onClick:A?void 0:()=>{!(document.activeElement===a.current)&&a.current&&a.current.focus()},role:"listbox","aria-orientation":"horizontal","aria-disabled":w,"aria-readonly":R,onKeyDown:A?void 0:e=>{const t=e.target,n=a.current;if(e.defaultPrevented||!n||!v(t))return;const r=j-1,i=n.value,o=t===n,s=""===i;switch(e.key){case me:o&&!s&&(e.preventDefault(),f(i));break;case xe:if(j){const n=o&&s?u[r]:((e,t)=>{const n=t.getAttribute("value");return e.find(e=>e.value===n)})(u,t);if(!n)return;e.preventDefault(),a.current.focus(),d(n)}break;case we:case be:case Re:case ye:{if(!j||!O.current)break;const i=0===n.selectionStart,a=e.key===ye&&i;if(!s&&!i||a)break;e.preventDefault();let l=null;const c=(e=>{switch(e){case we:case be:return"left";case Re:case ye:return"right";default:return}})(e.key);!o||e.key!==we&&e.key!==be?c&&(l=b(t,c)):l=x(O.current.children,r),l&&l.focus();break}}},children:[u.map((e,t)=>n.jsx(l.Fragment,{children:h({children:e.label,className:"tgui-991d85450550abb9",value:e.value,tabIndex:-1,after:n.jsx(g,{Component:"div",interactiveAnimation:"opacity",onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),d(t)})(t,e),className:"tgui-0b4134fd8d5c05ac",children:n.jsx(Oe,{})}),role:"option","aria-selected":!0,"aria-posinset":t+1,"aria-setsize":j})},`${typeof e.value}-${e.label}`)),n.jsx(Y,r(i({ref:a,"aria-autocomplete":"list",autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},C),{Component:"input",type:"text",className:"tgui-41e02fd2529dfbd2",disabled:w,readOnly:R,placeholder:k?y:void 0}))]})}),Ae=["start","end"],Ne=["top","right","bottom","left"].reduce((e,t)=>e.concat(t,t+"-"+Ae[0],t+"-"+Ae[1]),[]),Se=Math.min,Le=Math.max,Me=Math.round,Te=Math.floor,Fe=e=>({x:e,y:e}),Ee={left:"right",right:"left",bottom:"top",top:"bottom"},De={start:"end",end:"start"};function Ie(e,t,n){return Le(e,Se(t,n))}function Pe(e,t){return"function"==typeof e?e(t):e}function Ve(e){return e.split("-")[0]}function Be(e){return e.split("-")[1]}function $e(e){return"x"===e?"y":"x"}function We(e){return"y"===e?"height":"width"}const ze=new Set(["top","bottom"]);function He(e){return ze.has(Ve(e))?"y":"x"}function Ke(e){return $e(He(e))}function _e(e,t,n){void 0===n&&(n=!1);const r=Be(e),i=Ke(e),o=We(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Xe(s)),[s,Xe(s)]}function Ue(e){return e.replace(/start|end/g,e=>De[e])}const qe=["left","right"],Ze=["right","left"],Je=["top","bottom"],Qe=["bottom","top"];function Ge(e,t,n,r){const i=Be(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?Ze:qe:t?qe:Ze;case"left":case"right":return t?Je:Qe;default:return[]}}(Ve(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(Ue)))),o}function Xe(e){return e.replace(/left|right|bottom|top/g,e=>Ee[e])}function Ye(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function et(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function tt(e,t,n){let{reference:r,floating:i}=e;const o=He(t),s=Ke(t),a=We(s),l=Ve(t),c="y"===o,u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Be(t)){case"start":h[s]-=d*(n&&c?-1:1);break;case"end":h[s]+=d*(n&&c?-1:1)}return h}async function nt(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=Pe(t,e),p=Ye(h),m=a[d?"floating"===f?"reference":"floating":f],g=et(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===f?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),b=await(null==o.isElement?void 0:o.isElement(x))&&await(null==o.getScale?void 0:o.getScale(x))||{x:1,y:1},y=et(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-y.top+p.top)/b.y,bottom:(y.bottom-g.bottom+p.bottom)/b.y,left:(g.left-y.left+p.left)/b.x,right:(y.right-g.right+p.right)/b.x}}const rt=new Set(["left","top"]);function it(e){const t=w(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=v(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Me(n)!==o||Me(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function ot(e){return p(e)?e:e.contextElement}function st(e){const t=ot(e);if(!v(t))return Fe(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=it(t);let s=(o?Me(n.width):n.width)/r,a=(o?Me(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const at=Fe(0);function lt(e){const t=R(e);return E()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:at}function ct(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=ot(e);let s=Fe(1);t&&(r?p(r)&&(s=st(r)):s=st(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==R(e))&&t}(o,n,r)?lt(o):Fe(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const e=R(o),t=r&&p(r)?R(r):r;let n=e,i=F(n);for(;i&&r&&t!==n;){const e=st(i),t=i.getBoundingClientRect(),r=w(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,f*=e.y,l+=o,c+=s,n=R(i),i=F(n)}}return et({width:u,height:f,x:l,y:c})}function ut(e,t){const n=M(e).scrollLeft;return t?t.left+n:ct(y(e)).left+n}function ft(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-ut(e,n),y:n.top+t.scrollTop}}const dt=new Set(["absolute","fixed"]);function ht(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=R(e),r=y(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=E();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}const c=ut(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-i);s<=25&&(o-=s)}else c<=25&&(o+=c);return{width:o,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=y(e),n=M(e),r=e.ownerDocument.body,i=Le(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Le(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ut(e);const a=-n.scrollTop;return"rtl"===w(r).direction&&(s+=Le(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(y(e));else if(p(t))r=function(e,t){const n=ct(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=v(e)?st(e):Fe(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=lt(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return et(r)}function pt(e,t){const n=O(e);return!(n===t||!p(n)||j(n))&&("fixed"===w(n).position||pt(n,t))}function mt(e,t,n){const r=v(t),i=y(t),o="fixed"===n,s=ct(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Fe(0);function c(){l.x=ut(i)}if(r||!r&&!o)if(("body"!==S(t)||L(i))&&(a=M(t)),r){const e=ct(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=!i||r||o?Fe(0):ft(i,a);return{x:s.left+a.scrollLeft-l.x-u.x,y:s.top+a.scrollTop-l.y-u.y,width:s.width,height:s.height}}function gt(e){return"static"===w(e).position}function vt(e,t){if(!v(e)||"fixed"===w(e).position)return null;if(t)return t(e);let n=e.offsetParent;return y(e)===n&&(n=n.ownerDocument.body),n}function xt(e,t){const n=R(e);if(C(e))return n;if(!v(e)){let t=O(e);for(;t&&!j(t);){if(p(t)&&!gt(t))return t;t=O(t)}return n}let r=vt(e,t);for(;r&&k(r)&&gt(r);)r=vt(r,t);return r&&j(r)&&gt(r)&&!A(r)?n:r||N(e)||n}const bt={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=y(r),a=!!t&&C(t.floating);if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Fe(1);const u=Fe(0),f=v(r);if((f||!f&&!o)&&(("body"!==S(r)||L(s))&&(l=M(r)),v(r))){const e=ct(r);c=st(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const d=!s||f||o?Fe(0):ft(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}},getDocumentElement:y,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?C(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=T(e,[],!1).filter(e=>p(e)&&"body"!==S(e)),i=null;const o="fixed"===w(e).position;let s=o?O(e):e;for(;p(s)&&!j(s);){const t=w(s),n=A(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&dt.has(i.position)||L(s)&&!n&&pt(e,s))?r=r.filter(e=>e!==s):i=t,s=O(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((e,n)=>{const r=ht(t,n,i);return e.top=Le(r.top,e.top),e.right=Se(r.right,e.right),e.bottom=Se(r.bottom,e.bottom),e.left=Le(r.left,e.left),e},ht(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:xt,getElementRects:async function(e){const t=this.getOffsetParent||xt,n=this.getDimensions,r=await n(e.floating);return{reference:mt(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=it(e);return{width:t,height:n}},getScale:st,isElement:p,isRTL:function(e){return"rtl"===w(e).direction}};function yt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wt(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=ot(e),u=i||o?[...c?T(c):[],...T(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const f=c&&a?function(e,t){let n,r=null;const i=y(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(a||t(),!d||!h)return;const p={rootMargin:-Te(f)+"px "+-Te(i.clientWidth-(u+d))+"px "+-Te(i.clientHeight-(f+h))+"px "+-Te(u)+"px",threshold:Le(0,Se(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||yt(c,e.getBoundingClientRect())||s(),m=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch(v){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),o}(c,n):null;let d,h=-1,p=null;s&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let m=l?ct(e):null;return l&&function t(){const r=ct(e);m&&!yt(m,r)&&n();m=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==f||f(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(d)}}const Rt=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=Ve(n),a=Be(n),l="y"===He(n),c=rt.has(s)?-1:1,u=o&&l?-1:1,f=Pe(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&"number"==typeof p&&(h="end"===a?-1*p:p),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Ct=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i;const{rects:o,middlewareData:s,placement:a,platform:l,elements:c}=t,{crossAxis:u=!1,alignment:f,allowedPlacements:d=Ne,autoAlignment:h=!0,...p}=Pe(e,t),m=void 0!==f||d===Ne?function(e,t,n){return(e?[...n.filter(t=>Be(t)===e),...n.filter(t=>Be(t)!==e)]:n.filter(e=>Ve(e)===e)).filter(n=>!e||Be(n)===e||!!t&&Ue(n)!==n)}(f||null,h,d):d,g=await nt(t,p),v=(null==(n=s.autoPlacement)?void 0:n.index)||0,x=m[v];if(null==x)return{};const b=_e(x,o,await(null==l.isRTL?void 0:l.isRTL(c.floating)));if(a!==x)return{reset:{placement:m[0]}};const y=[g[Ve(x)],g[b[0]],g[b[1]]],w=[...(null==(r=s.autoPlacement)?void 0:r.overflows)||[],{placement:x,overflows:y}],R=m[v+1];if(R)return{data:{index:v+1,overflows:w},reset:{placement:R}};const C=w.map(e=>{const t=Be(e.placement);return[e.placement,t&&u?e.overflows.slice(0,2).reduce((e,t)=>e+t,0):e.overflows[0],e.overflows]}).sort((e,t)=>e[1]-t[1]),O=(null==(i=C.filter(e=>e[2].slice(0,Be(e[0])?2:3).every(e=>e<=0))[0])?void 0:i[0])||C[0][0];return O!==a?{data:{index:v+1,overflows:w},reset:{placement:O}}:{}}}},Ot=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=Pe(e,t),c={x:n,y:r},u=await nt(t,l),f=He(Ve(i)),d=$e(f);let h=c[d],p=c[f];if(o){const e="y"===d?"bottom":"right";h=Ie(h+u["y"===d?"top":"left"],h,h-u[e])}if(s){const e="y"===f?"bottom":"right";p=Ie(p+u["y"===f?"top":"left"],p,p-u[e])}const m=a.fn({...t,[d]:h,[f]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[d]:o,[f]:s}}}}}},jt=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Pe(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=Ve(i),x=He(a),b=Ve(a)===a,y=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=d||(b||!m?[Xe(a)]:function(e){const t=Xe(e);return[Ue(e),t,Ue(t)]}(a)),R="none"!==p;!d&&R&&w.push(...Ge(a,m,p,y));const C=[a,...w],O=await nt(t,g),j=[];let k=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&j.push(O[v]),f){const e=_e(i,s,y);j.push(O[e[0]],O[e[1]])}if(k=[...k,{placement:i,overflows:j}],!j.every(e=>e<=0)){var A,N;const e=((null==(A=o.flip)?void 0:A.index)||0)+1,t=C[e];if(t){if(!("alignment"===f&&x!==He(t))||k.every(e=>He(e.placement)!==x||e.overflows[0]>0))return{data:{index:e,overflows:k},reset:{placement:t}}}let n=null==(N=k.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:N.placement;if(!n)switch(h){case"bestFit":{var S;const e=null==(S=k.filter(e=>{if(R){const t=He(e.placement);return t===x||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:S[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},kt=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...c}=Pe(e,t),u=await nt(t,c),f=Ve(i),d=Be(i),h="y"===He(i),{width:p,height:m}=o.floating;let g,v;"top"===f||"bottom"===f?(g=f,v=d===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,g="end"===d?"top":"bottom");const x=m-u.top-u.bottom,b=p-u.left-u.right,y=Se(m-u[g],x),w=Se(p-u[v],b),R=!t.middlewareData.shift;let C=y,O=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(O=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=x),R&&!d){const e=Le(u.left,0),t=Le(u.right,0),n=Le(u.top,0),r=Le(u.bottom,0);h?O=p-2*(0!==e||0!==t?e+t:Le(u.left,u.right)):C=m-2*(0!==n||0!==r?n+r:Le(u.top,u.bottom))}await l({...t,availableWidth:O,availableHeight:C});const j=await s.getDimensions(a.floating);return p!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}},At=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Pe(e,t)||{};if(null==c)return{};const f=Ye(u),d={x:n,y:r},h=Ke(i),p=We(h),m=await s.getDimensions(c),g="y"===h,v=g?"top":"left",x=g?"bottom":"right",b=g?"clientHeight":"clientWidth",y=o.reference[p]+o.reference[h]-d[h]-o.floating[p],w=d[h]-o.reference[h],R=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let C=R?R[b]:0;C&&await(null==s.isElement?void 0:s.isElement(R))||(C=a.floating[b]||o.floating[p]);const O=y/2-w/2,j=C/2-m[p]/2-1,k=Se(f[v],j),A=Se(f[x],j),N=k,S=C-m[p]-A,L=C/2-m[p]/2+O,M=Ie(N,L,S),T=!l.arrow&&null!=Be(i)&&L!==M&&o.reference[p]/2-(L<N?k:A)-m[p]/2<0,F=T?L<N?L-N:L-S:0;return{[h]:d[h]+F,data:{[h]:M,centerOffset:L-M-F,...T&&{alignmentOffset:F}},reset:T}}}),Nt=(e,t,n)=>{const r=new Map,i={platform:bt,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=tt(c,r,l),d=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:n,fn:o}=a[m],{x:g,y:v,data:x,reset:b}=await o({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,f=null!=v?v:f,h={...h,[n]:{...h[n],...x}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:f}=tt(c,d,l))),m=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}})(e,t,{...i,platform:o})};var St="undefined"!=typeof document?l.useLayoutEffect:function(){};function Lt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Lt(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!Lt(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Mt(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tt(e,t){const n=Mt(e);return Math.round(t*n)/n}function Ft(e){const t=l.useRef(e);return St(()=>{t.current=e}),t}const Et=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?At({element:n.current,padding:r}).fn(t):{}:n?At({element:n,padding:r}).fn(t):{};var i}}),Dt=e=>n.jsx("svg",r(i({width:22,height:7,viewBox:"0 0 22 7",xmlns:"http://www.w3.org/2000/svg"},e),{children:n.jsx("path",{d:"M10.804 0C6.387 0 6.94 6 .865 6h19.878c-6.074 0-5.521-6-9.939-6Z",fill:"currentColor"})})),It={right:"tgui-6c3deae89ec68e99",bottom:"tgui-fed67e27ad8cb75f",left:"tgui-b27d1c4f6222569e"},Pt=l.forwardRef((t,s)=>{var{style:a,offset:l,isStaticOffset:c,coords:u,placement:f="bottom",Icon:d=Dt,className:h}=t,p=e(t,["style","offset","isStaticOffset","coords","placement","Icon","className"]);const[m,g]=((e,t={x:0,y:0},n=0,r=!1)=>{const i=e=>{const i={x:t.x||0,y:t.y||0};return r?n:i[e?"y":"x"]+n};return e.startsWith("top")?["bottom",{top:"100%",left:i(!1)}]:e.startsWith("right")?["left",{top:i(!0),left:0}]:e.startsWith("bottom")?[void 0,{bottom:"100%",left:i(!1)}]:["right",{top:i(!0),right:0}]})(f,u,l,c);return n.jsx("div",r(i({ref:s,style:i({},g,a),className:o("tgui-97a62789a70393d0",m&&It[m],h)},p),{children:n.jsx(d,{className:"tgui-6ae8c47f9448321b"})}))}),Vt={ancestorScroll:!0,ancestorResize:!0,elementResize:!1,animationFrame:!1},Bt=e=>{const t=e.replace(/auto-|auto/,"");return"start"===t||"end"===t?t:null},$t=({placement:e="bottom-start",arrowRef:t=null,withArrow:n,arrowHeight:r,arrowPadding:i,sameWidth:o,offsetByMainAxis:s=0,offsetByCrossAxis:a=0,customMiddlewares:c})=>l.useMemo(()=>{const l=(e=>!e.startsWith("auto"))(e),u=[(f={crossAxis:a,mainAxis:n&&r?s+r:s},{...Rt(f),options:[f,d]})];var f,d;return l?u.push(((e,t)=>({...jt(e),options:[e,t]}))({fallbackAxisSideDirection:"start"})):u.push(((e,t)=>({...Ct(e),options:[e,t]}))({alignment:Bt(e)})),u.push(((e,t)=>({...Ot(e),options:[e,t]}))()),o&&u.push(((e,t)=>({...kt(e),options:[e,t]}))({apply({rects:e,elements:t}){Object.assign(t.floating.style,{width:`${e.reference.width}px`})}})),c&&u.push(...c),n&&u.push(((e,t)=>({...Et(e),options:[e,t]}))({element:t,padding:i})),{middlewares:u,strictPlacement:l?e:void 0}},[a,t,n,r,i,s,o,c,e]),Wt=l.forwardRef((t,s)=>{var{placement:a="auto",sameWidth:c,offsetByMainAxis:u=8,offsetByCrossAxis:d=0,withArrow:p=!0,customMiddlewares:m,autoUpdateOnTargetResize:g=!1,arrowProps:x,ArrowIcon:b=Dt,Component:y="div",style:w,targetRef:R,className:C,children:O}=t,j=e(t,["placement","sameWidth","offsetByMainAxis","offsetByCrossAxis","withArrow","customMiddlewares","autoUpdateOnTargetResize","arrowProps","ArrowIcon","Component","style","targetRef","className","children"]);const[k,A]=l.useState(null),{strictPlacement:N,middlewares:S}=$t({placement:a,sameWidth:c,withArrow:p,arrowRef:k,arrowHeight:(null==x?void 0:x.height)||6,arrowPadding:(null==x?void 0:x.padding)||12,offsetByMainAxis:u,offsetByCrossAxis:d,customMiddlewares:m}),{placement:L,refs:M,middlewareData:T,floatingStyles:F}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,h]=l.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=l.useState(r);Lt(p,r)||m(r);const[g,v]=l.useState(null),[x,b]=l.useState(null),y=l.useCallback(e=>{e!==O.current&&(O.current=e,v(e))},[]),w=l.useCallback(e=>{e!==j.current&&(j.current=e,b(e))},[]),R=o||g,C=s||x,O=l.useRef(null),j=l.useRef(null),k=l.useRef(d),A=null!=c,N=Ft(c),S=Ft(i),L=Ft(u),M=l.useCallback(()=>{if(!O.current||!j.current)return;const e={placement:t,strategy:n,middleware:p};S.current&&(e.platform=S.current),Nt(O.current,j.current,e).then(e=>{const t={...e,isPositioned:!1!==L.current};T.current&&!Lt(k.current,t)&&(k.current=t,f.flushSync(()=>{h(t)}))})},[p,t,n,S,L]);St(()=>{!1===u&&k.current.isPositioned&&(k.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[u]);const T=l.useRef(!1);St(()=>(T.current=!0,()=>{T.current=!1}),[]),St(()=>{if(R&&(O.current=R),C&&(j.current=C),R&&C){if(N.current)return N.current(R,C,M);M()}},[R,C,M,N,A]);const F=l.useMemo(()=>({reference:O,floating:j,setReference:y,setFloating:w}),[y,w]),E=l.useMemo(()=>({reference:R,floating:C}),[R,C]),D=l.useMemo(()=>{const e={position:n,left:0,top:0};if(!E.floating)return e;const t=Tt(E.floating,d.x),r=Tt(E.floating,d.y);return a?{...e,transform:"translate("+t+"px, "+r+"px)",...Mt(E.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}},[n,a,E.floating,d.x,d.y]);return l.useMemo(()=>({...d,update:M,refs:F,elements:E,floatingStyles:D}),[d,M,F,E,D])}({placement:N,middleware:S,whileElementsMounted:(...t)=>((t,n,o,s=Vt)=>{const{elementResize:a=!1}=s,l=e(s,["elementResize"]),c=wt(t,n,o,r(i({},l),{elementResize:!1}));let u=null;if(a){let e=!0;u=new MutationObserver(()=>{e||o(),e=!1}),v(t)&&u.observe(t,{childList:!0,subtree:!0}),u.observe(n,{childList:!0,subtree:!0})}return()=>{null!==u&&(u.disconnect(),u=null),c()}})(...t,{elementResize:g})});return h(()=>{M.setReference("current"in R?R.current:R)},[M.setReference,R]),n.jsx(ue,{children:n.jsxs(y,r(i({},j),{ref:D(s,M.setFloating),style:i({},w,F),className:o("tgui-e9c83f4f150e5513",C),children:[p&&n.jsx(Pt,r(i({},x),{coords:T.arrow,placement:L,ref:A,Icon:b})),O]}))})}),zt="next",Ht="prev",Kt=e=>e&&"actionText"in e,_t=e=>e&&"placeholder"in e,Ut=e=>Kt(e)||_t(e),qt=e=>{var t=ne({},re(e));return n.jsx("svg",r(i({width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{children:n.jsx("path",{d:"M2.5 10.821 7 15.75l10.5-11.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))},Zt=e=>{var t=ne({},re(e));return n.jsx("svg",r(i({width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),{children:n.jsx("path",{d:"M8.174 18c-.473 0-.876-.21-1.208-.63l-4.602-5.82a1.727 1.727 0 0 1-.284-.465 1.423 1.423 0 0 1-.08-.474c0-.365.118-.666.355-.903s.536-.356.898-.356c.408 0 .752.18 1.03.539l3.856 5.017 7.525-12.242c.154-.243.313-.414.48-.51.165-.104.372-.156.621-.156.361 0 .657.116.889.347.23.23.346.526.346.884 0 .146-.024.292-.071.438a2.017 2.017 0 0 1-.222.456L9.39 17.335c-.284.443-.69.665-1.217.665Z",fill:"currentColor"})}))},Jt=e=>{const o="ios"===t()?Zt:qt;return n.jsx(Z,r(i({},e),{after:e.selected?n.jsx(o,{className:"tgui-e3f4e376df0c272c"}):void 0}))},Qt=l.forwardRef(({dropdownAriaId:e,options:t,onMouseLeave:r,targetRef:i,addOptionFromInput:o,setFocusedOptionIndex:s,renderOption:a=Jt,focusedOption:c,value:u,setOptionNode:f,setOpened:d,closeDropdownAfterSelect:h,addOption:p,focusedOptionIndex:m,clearInput:g},v)=>n.jsx(Wt,{id:e,ref:v,targetRef:i,onMouseLeave:r,autoUpdateOnTargetResize:!0,role:"listbox",placement:"bottom",sameWidth:!0,className:"tgui-70d34454bcf3c3e4",children:t.map((e,t)=>_t(e)?n.jsx(Z,{readOnly:!0,className:"tgui-6a25d2bd42bb932c",children:e.placeholder},"empty"):Kt(e)?n.jsx(Z,{hovered:m===t,onMouseDown:o,onMouseEnter:()=>s(t),children:e.actionText},"new-options"):n.jsx(l.Fragment,{children:a({className:"tgui-15f9ec3c119467a6",hovered:!!c&&e.value===c.value,children:e.label,selected:-1!==u.findIndex(t=>t.value===e.value),ref:e=>f(t,e),onMouseDown:t=>{t.defaultPrevented||(h&&d(!1),p(e),g())},onMouseEnter:()=>s(t)})},`${typeof e.value}-${e.label}`))})),Gt=e=>null==e||"boolean"==typeof e||"{}"===JSON.stringify(e)?"":e.toString(),Xt=e=>e instanceof Array||l.isValidElement(e)?l.Children.toArray(e).reduce((e,t)=>{let n="";const r=l.isValidElement(t),i=r&&"children"in t.props;return n=r&&i?Xt(t.props.children):r&&!i?"":Gt(t),e.concat(n)},""):Gt(e);function Yt(...e){const[t="",n]=e;if(void 0===(null==n?void 0:n.label))return!1;const r=t.trim().toLocaleLowerCase(),i=Xt(n.label).toLocaleLowerCase();if(i.startsWith(r))return!0;const o=((e="",t="")=>{const n=[];let r=e.indexOf(t);for(;-1!==r;)n.push(r),r=e.indexOf(t,r+1);return n})(i,r);return 0!==o.length&&o.some(e=>0===e||!RegExp("\\p{L}","u").test(i[e-1]))}const en=(e,t)=>({value:e,label:t}),tn=({value:e,inputValue:t="",emptyText:n,creatable:o=!1,filterFn:s,options:a,selectedBehavior:l})=>{const c=s?a.filter(e=>s(t,e)):a;if(0===c.length)return""!==t&&"string"==typeof o?[r(i({},en("","")),{actionText:o})]:[r(i({},en("","")),{placeholder:n})];if("hide"===l){const t=e.map(e=>e.value);return c.filter(e=>!Ut(e)&&!t.includes(e.value))}return c};const nn=({disabled:e,value:t,onChange:n,defaultValue:r=[],inputValue:o="",onInputChange:s})=>{const[a,c]=function({value:e,defaultValue:t,disabled:n,onChange:r}){const i=void 0!==e,[o,s]=l.useState(t),a=l.useRef();h(()=>{a.current=e});const c=l.useCallback(e=>{if(!n)if(function(e){return"function"==typeof e}(e))if(i){if(r){const t=e(a.current);r(t)}}else s(t=>{const n=e(t);return r&&r(n),n});else r&&r(e),!i&&s(e)},[n,i,r]);return[i?e:o,c]}({value:t,disabled:e,defaultValue:r,onChange:n}),u=l.useRef(null),[f,d]=l.useState(o),p=l.useCallback((e,r)=>{let o=t;c(t=>{const n=(e=>"object"==typeof e&&"value"in e)(e),s=n?en(e.value,e.label):en(e,"string"==typeof e?e:""),a=t.filter(e=>s.value!==e.value);return r&&a.push(n?i({},e,s):s),o=a,a}),null==n||n(o)},[c]),m=l.useCallback(()=>{((e,t="")=>{try{const n=e,r=n.value;n.value=t;const i=n._valueTracker;null==i||i.setValue(r);const o=new Event("input",{bubbles:!0});e.dispatchEvent(o)}catch(n){}})(u.current,"")},[u]),g=l.useCallback(e=>p(e,!0),[p]),v=l.useCallback(e=>{p(e,!1)},[p]),x=l.useCallback(e=>{const t=e.trim();t&&(g(t),m())},[g,m]),b=l.useCallback(e=>{d(e.currentTarget.value),null==s||s(e)},[s]);return{value:a,addOption:g,addOptionFromInput:x,removeOption:v,inputRef:u,inputValue:f,onInputChange:b,clearInput:m}},rn=l.forwardRef((t,s)=>{var{header:a,before:c,status:u,className:f,children:d,disabled:m,options:g,closeDropdownAfterSelect:v=!1,selectedBehavior:x,emptyText:b,creatable:y=!1,filterFn:w,value:R=[],defaultValue:C,inputValue:O,renderChip:j,renderOption:k,onInputChange:A,onChange:N,onFocus:S,onBlur:L,onKeyDown:M}=t,T=e(t,["header","before","status","className","children","disabled","options","closeDropdownAfterSelect","selectedBehavior","emptyText","creatable","filterFn","value","defaultValue","inputValue","renderChip","renderOption","onInputChange","onChange","onFocus","onBlur","onKeyDown"]);const{value:F,addOptionFromInput:E,addOption:P,removeOption:V,inputRef:B,inputValue:$,clearInput:W,onInputChange:z,options:H,opened:K,setOpened:_,focusedOption:U,focusedOptionIndex:q,setFocusedOption:Z,setFocusedOptionIndex:J}=(({disabled:t,value:n,defaultValue:o,onChange:s,inputValue:a="",onInputChange:c,creatable:u=!1,emptyText:f="Nothing found",filterFn:d=Yt,selectedBehavior:p="highlight",options:m=[]})=>{const g=nn({value:n,defaultValue:o,onChange:s,inputValue:a,onInputChange:c,disabled:t}),{value:v,inputValue:x,onInputChange:b}=g,y=e(g,["value","inputValue","onInputChange"]),[w,R]=l.useState(!1),[C,O]=l.useState(()=>w?tn({value:v,inputValue:x,emptyText:f,creatable:u,filterFn:d,options:m,selectedBehavior:p}):[]),[j,k]=l.useState(0),[A,N]=l.useState(null),S=l.useCallback(e=>{b(e),w&&(R(!0),k(0))},[b,w]);return h(()=>{w&&O(e=>{const t=tn({value:v,inputValue:x,emptyText:f,creatable:u,filterFn:d,options:m,selectedBehavior:p});return I(e,t)?e:t})},[w,v,x,m,u,p,d]),r(i({},y),{value:v,inputValue:x,onInputChange:S,options:C,opened:w,setOpened:R,focusedOption:A,focusedOptionIndex:j,setFocusedOption:N,setFocusedOptionIndex:k})})({value:R,defaultValue:C,onChange:N,inputValue:O,onInputChange:A,options:g,emptyText:b,creatable:y,filterFn:w,selectedBehavior:x,disabled:m}),Q=l.useRef(null),G=l.useRef(null),X=l.useId(),Y=l.useRef(null),ee=l.useRef([]).current,ne=(e,t)=>{let n=e;const{length:r}=H;e<0?n=r-1:e>=r&&(n=0),n!==t&&(((e,t=!1)=>{const n=Y.current,r=ee[e];if(!r||!n)return;const i=n.offsetHeight,{scrollTop:o}=n,s=r.offsetTop,a=r.offsetHeight;t?n.scrollTop=s-i/2+a/2:s+a>i+o?n.scrollTop=s-i+a:s<o&&(n.scrollTop=s)})(n),J(n))};l.useEffect(()=>{if(null===q)return void Z(null);const e=H[q];e&&!Ut(e)&&Z(e)},[H,q,Z]);const re=l.useCallback(()=>{J(null)},[J]);((e,...t)=>{h(()=>{const n=t.some(e=>e&&null!==e.current);if(!document||!n)return()=>{};const r=n=>{const r=n.target;(!p(r)||!t.some(e=>e&&e.current&&e.current.contains(r)))&&e(n)};return document.addEventListener("click",r,{passive:!0,capture:!0}),()=>document.removeEventListener("click",r,!0)},[document,e,...t])})(l.useCallback(()=>{_(!1)},[_]),K?G:null,K?Y:null);const ie=u||(K?"focused":"default");return n.jsxs(pe,{ref:D(s,Q),header:a,before:c,status:ie,disabled:m,className:o("tgui-6cca8a28a056cc34",f),children:[n.jsx(ke,r(i({},T),{ref:G,className:"tgui-1ed7193796bd9fff",onAddChipOption:E,onRemoveChipOption:V,renderChip:j,chipsValue:F,value:$,inputRef:B,onChange:z,onFocus:te(()=>{_(!0),J(null)},S),onBlur:te(e=>{e.defaultPrevented||y||e.preventDefault()},L),onKeyDown:te(e=>{if(!e.defaultPrevented)switch(e.key){case we:case Re:if(e.preventDefault(),K)return void((e,t)=>{let n=null===e?-1:e;t===zt&&(n+=1),t===Ht&&(n-=1),ne(n,q)})(q,e.key===we?Ht:zt);_(!0),J(0);break;case me:{if(!K)break;if(y||e.preventDefault(),null===q)break;const t=H[q];if(!t||Ut(t))break;e.preventDefault(),P(t),J(null),W(),v&&_(!1);break}case ve:case ge:K&&_(!1)}},M),role:"combobox","aria-expanded":K,"aria-controls":X,"aria-haspopup":"listbox"})),n.jsx(Ce,{"aria-hidden":!0,onClick:()=>{_(e=>!e)},className:"tgui-e9b05eb8feaa0359"}),K&&n.jsx(Qt,{ref:Y,dropdownAriaId:X,options:H,onMouseLeave:re,targetRef:G,addOptionFromInput:()=>E($),setFocusedOptionIndex:J,renderOption:k,focusedOption:U,value:F,setOptionNode:(e,t)=>{ee[e]=t},setOpened:_,closeDropdownAfterSelect:v,addOption:P,clearInput:W,focusedOptionIndex:q})]})}),on=l.forwardRef((r,s)=>{var{header:l,status:c,className:u}=r,f=e(r,["header","status","className"]);const d=t(),h="ios"===d?a:Y;return n.jsx(pe,{header:l,status:c,className:o("tgui-54ba5b4c7f1fd05a","ios"===d&&"tgui-2453b62de8016bfa",u),children:n.jsx(h,i({ref:s,Component:"textarea",className:"tgui-d40ec83150e66029"},f))})});var sn=class extends P{#e;#t=void 0;#n;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),V(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&B(t.mutationKey)!==B(this.options.mutationKey)?this.reset():"pending"===this.#n?.state.status&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(e,t){return this.#r=t,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??$();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#o(e){W.batch(()=>{if(this.#r&&this.hasListeners()){const t=this.#t.variables,n=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};"success"===e?.type?(this.#r.onSuccess?.(e.data,t,n,r),this.#r.onSettled?.(e.data,null,t,n,r)):"error"===e?.type&&(this.#r.onError?.(e.error,t,n,r),this.#r.onSettled?.(void 0,e.error,t,n,r))}this.listeners.forEach(e=>{e(this.#t)})})}};async function an(){const{data:e}=await J.get("/users/me");return{id:(t=e).id,telegramId:t.telegram_id,username:t.username,firstName:t.first_name,secondName:t.last_name,avatarUrl:t.avatar_url,bio:t.bio??null,city:t.city??null,university:t.university??null,link:t.link??null,skills:(r=t.skills,r.map(e=>({id:e.id,slug:e.slug,name:e.name}))),achievements:(n=t.achievements,n.map(e=>({id:e.id,hackathonId:e.hackathon_id,hackathonName:e.hackathon_name??null,role:e.role,place:e.place})))};var t,n,r}const ln={me:["user","me"]};function cn(){const e=z();return function(e){const t=z(),[n]=l.useState(()=>new sn(t,e));l.useEffect(()=>{n.setOptions(e)},[n,e]);const r=l.useSyncExternalStore(l.useCallback(e=>n.subscribe(W.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=l.useCallback((e,t)=>{n.mutate(e,t).catch(H)},[n]);if(r.error&&K(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}({mutationFn:e=>async function(e){await J.patch("/users/me",{bio:e.bio,city:e.city,university:e.university,link:e.link,skills:e.skillSlugs})}(e),onSuccess:()=>{e.invalidateQueries({queryKey:ln.me})}})}async function un(){const{data:e}=await J.get("/skills");return e}const fn=U(a)`
  && {
    ${({$fs:e})=>(e=>{if(void 0!==e)return"number"==typeof e?_`
      font-size: ${e}px;
      line-height: ${e+4}px;
    `:_`
    font-size: ${e};
    line-height: calc(${e} + 4px);
  `})(e)}
    ${({$fw:e})=>void 0!==e&&_`
        font-weight: ${e};
      `}
  }
`,dn=({achievement:e})=>n.jsx(hn,{after:n.jsx(fn,{$fs:16,$fw:500,children:X(e.place)}),children:n.jsx(G,{$fs:16,$fw:500,children:e.hackathonName})}),hn=U(Z)`
  background-color: var(--tg-theme-secondary-bg-color);
  border-radius: 1rem;
`,pn=()=>{const{data:e,isLoading:t}=Q({queryKey:ln.me,queryFn:an,staleTime:3e5}),{data:r=[],isLoading:i}=Q({queryKey:["skills"],queryFn:un,staleTime:3e5}),o=cn(),[s,a]=l.useState([]),[c,u]=l.useState(null),[f,d]=l.useState(""),[h,p]=l.useState(null),[m,g]=l.useState(""),[v,x]=l.useState(!1);l.useEffect(()=>{if(!e)return;const t=e.bio??"";d(t),g(t),a(e.skills.map(e=>e.slug)),p(null),u(null),x(!0)},[e]);const b=r.map(e=>({value:e.slug,label:e.name}));const y=b.filter(e=>s.includes(String(e.value)));l.useEffect(()=>{if(!v)return;if(!e)return;if(h)return;if(f===m)return;const t=setTimeout(()=>{o.mutate({bio:f||void 0},{onSuccess:()=>{g(f)}})},600);return()=>clearTimeout(t)},[f,h,v,e,m,o]);const w=t||i;return n.jsxs(mn,{children:[n.jsxs(gn,{children:[n.jsx(ee,{size:96,src:e?.avatarUrl||void 0}),n.jsxs(xn,{children:[n.jsx(G,{$fs:24,$fw:600,children:e?.firstName}),n.jsx(G,{$fs:24,$fw:600,children:e?.secondName})]})]}),n.jsxs(vn,{children:[n.jsx(bn,{header:"Навыки",footer:c,children:n.jsx(yn,{status:c?"error":"default",options:b,value:y,onChange:t=>{if(t.length>10)return void u("Нельзя выбрать больше 10 навыков");const n=t.map(e=>String(e.value));if(a(n),u(null),!v||!e)return;const r=e.skills.map(e=>e.slug);r.length===n.length&&r.every(e=>n.includes(e))||o.mutate({skillSlugs:n})},selectedBehavior:"hide",closeDropdownAfterSelect:!1,creatable:!1,placeholder:w?"Загружаем навыки...":"Выберите до 10 навыков"})}),n.jsx(bn,{header:"Обо мне",footer:h,children:n.jsx(on,{status:h?"error":"default",value:f,onChange:e=>{const t=e.target.value;d(t),t.length>256?p("Описание должно быть не больше 256 символов"):p(null)},placeholder:"Расскажите немного о себе..."})}),n.jsx(bn,{header:"Достижения",children:n.jsx(ie,{children:[{id:1,hackathonId:1,hackathonName:"ShortHack",role:"Backend",place:"firstPlace"},{id:2,hackathonName:"TenderHack",hackathonId:2,role:"Frontend",place:"firstPlace"},{id:3,hackathonName:"ITAM courses Hack",hackathonId:3,role:"Fullstack",place:"secondPlace"}]?.map(e=>n.jsx(dn,{achievement:e},e.id))})})]})]})},mn=U.section`
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2.5rem 0;
  gap: 1.5rem;
`,gn=U.header`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
`,vn=U.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 0rem;
`,xn=U.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
`,bn=U(ce)`
  background: var(--tg-theme-section-bg-color, #fff);
  padding: 1rem;
  border-radius: 1rem;
  & > div {
    display: flex;
    flex-direction: column;

    & > header {
      padding: 0;
      box-shadow: none;
    }
    & > div {
      padding: 0;
      & > div {
        background: var(--tg-theme-section-bg-color, #fff);
        padding: 1rem 0 1rem 0;
      }
    }
  }
  & > footer {
    padding-bottom: 0;
    & > h6 {
      color: var(--tg-theme-destructive-text-color, #fff);
    }
  }
`,yn=U(rn)`
  background: var(--tg-theme-section-bg-color, #fff);
`;export{pn as ProfilePage,pn as default};
